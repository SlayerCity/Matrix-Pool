
@if(isOpen()) {
<div
  class="fixed top-20 right-4 z-10 w-72 bg-slate-800/80 backdrop-blur-md rounded-lg shadow-2xl p-6 text-slate-300 border border-slate-700"
>
  <h3 class="text-lg font-semibold text-white mb-4 border-b border-slate-700 pb-2">
    Controls
  </h3>
  <div class="space-y-4 text-sm">
    
    <!-- Density -->
    <div class="grid grid-cols-3 items-center gap-2">
      <label [for]="getSliderId('density')" class="col-span-1">Density</label>
      <input
        [id]="getSliderId('density')"
        type="range"
        min="10"
        max="50"
        step="1"
        [value]="settings().density"
        (input)="updateSetting('density', ($any($event.target).value))"
        class="col-span-2 w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"
      />
    </div>

    <!-- Dot Size -->
    <div class="grid grid-cols-3 items-center gap-2">
      <label [for]="getSliderId('dotSize')" class="col-span-1">Dot Size</label>
      <input
        [id]="getSliderId('dotSize')"
        type="range"
        min="1"
        max="5"
        step="0.1"
        [value]="settings().dotSize"
        (input)="updateSetting('dotSize', ($any($event.target).value))"
        class="col-span-2 w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"
      />
    </div>

    <!-- Interaction Radius -->
    <div class="grid grid-cols-3 items-center gap-2">
      <label [for]="getSliderId('interactionRadius')" class="col-span-1">Radius</label>
      <input
        [id]="getSliderId('interactionRadius')"
        type="range"
        min="20"
        max="200"
        step="1"
        [value]="settings().interactionRadius"
        (input)="updateSetting('interactionRadius', ($any($event.target).value))"
        class="col-span-2 w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"
      />
    </div>

    <!-- Repel Force -->
    <div class="grid grid-cols-3 items-center gap-2">
      <label [for]="getSliderId('repelForce')" class="col-span-1">Repel</label>
      <input
        [id]="getSliderId('repelForce')"
        type="range"
        min="0.1"
        max="2"
        step="0.05"
        [value]="settings().repelForce"
        (input)="updateSetting('repelForce', ($any($event.target).value))"
        class="col-span-2 w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"
      />
    </div>

    <!-- Return Speed -->
    <div class="grid grid-cols-3 items-center gap-2">
      <label [for]="getSliderId('returnSpeed')" class="col-span-1">Return</label>
      <input
        [id]="getSliderId('returnSpeed')"
        type="range"
        min="0.01"
        max="0.2"
        step="0.01"
        [value]="settings().returnSpeed"
        (input)="updateSetting('returnSpeed', ($any($event.target).value))"
        class="col-span-2 w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"
      />
    </div>

    <!-- Damping -->
    <div class="grid grid-cols-3 items-center gap-2">
      <label [for]="getSliderId('damping')" class="col-span-1">Damping</label>
      <input
        [id]="getSliderId('damping')"
        type="range"
        min="0.8"
        max="0.99"
        step="0.01"
        [value]="settings().damping"
        (input)="updateSetting('damping', ($any($event.target).value))"
        class="col-span-2 w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"
      />
    </div>

    <!-- Base Hue -->
    <div class="grid grid-cols-3 items-center gap-2">
        <label [for]="getSliderId('baseHue')" class="col-span-1">Hue</label>
        <input
          [id]="getSliderId('baseHue')"
          type="range"
          min="0"
          max="360"
          step="1"
          [value]="settings().baseHue"
          (input)="updateSetting('baseHue', ($any($event.target).value))"
          class="col-span-2 w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"
        />
    </div>

    <!-- Hue Shift -->
    <div class="grid grid-cols-3 items-center gap-2">
        <label [for]="getSliderId('hueShift')" class="col-span-1">Hue Shift</label>
        <input
          [id]="getSliderId('hueShift')"
          type="range"
          min="0"
          max="180"
          step="1"
          [value]="settings().hueShift"
          (input)="updateSetting('hueShift', ($any($event.target).value))"
          class="col-span-2 w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"
        />
    </div>

  </div>
</div>
}
